{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/chetan/OneDrive/Desktop/typeface/frontend/src/app/page.tsx"],"sourcesContent":["\"use client\"\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useRouter } from 'next/compat/router';\n\n\nexport default function Home() {\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [files, setFiles] = useState<any[]>([]);\n  const allowedFileTypes = ['text/plain', 'image/jpeg', 'image/png', 'application/json', 'application/pdf']; \n  const router = useRouter();\n\n  const handleFileUpload = async () => {\n    if (!selectedFile) return;\n\n    if (!allowedFileTypes.includes(selectedFile.type)) {\n      alert('Unsupported file format');\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n\n    try {\n      const response = await axios.post('http://localhost:3001/api/files/', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      console.log(response.data);\n      fetchFiles();\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n\n  const fetchFiles = async () => {\n    try {\n      const response = await axios.get('http://localhost:3001/api/files/');\n      setFiles(response.data);\n    } catch (error) {\n      console.error('Error fetching files:', error);\n    }\n  };\n\n  React.useEffect(() => {\n    fetchFiles();\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-lg\">\n        <h1 className=\"text-3xl font-bold text-center text-gray-800 mb-6\">Dropbox-like File Manager</h1>\n        \n        <div className=\"mb-6\">\n          <label htmlFor=\"file-upload\" className=\"block text-lg font-medium text-gray-700 mb-2\">Select a file to upload</label>\n          <input\n            id=\"file-upload\"\n            type=\"file\"\n            onChange={(e) => setSelectedFile(e.target.files?.[0] || null)}\n            className=\"block w-full text-sm text-gray-700 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\n          />\n        </div>\n\n        <button\n          onClick={handleFileUpload}\n          className=\"w-full bg-blue-600 text-white font-semibold py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\"\n        >\n          Upload\n        </button>\n\n        <div className=\"mt-8\">\n          <h2 className=\"text-2xl font-semibold text-gray-800 mb-4\">Uploaded Files</h2>\n          <ul className=\"space-y-4\">\n            {files.map((file) => (\n              <li key={file.id} className=\"flex items-center justify-between p-4 bg-gray-50 border border-gray-200 rounded-lg\">\n                <span className=\"text-lg font-medium text-gray-700\">{file.filename}</span>\n                <a\n                  href={`http://localhost:3001/api/files/${file.filename}`}\n                  download\n                  className=\"px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50\"\n                >\n                  Download\n                </a>\n                <a\n                  onClick={()=>{router.push(`view-file/${file.filename}`)}}\n                  download\n                  className=\"px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50\"\n                >\n                  View\n                </a>\n                \n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AAEA;AADA;AAFA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9D,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IAC5C,MAAM,mBAAmB;QAAC;QAAc;QAAc;QAAa;QAAoB;KAAkB;IACzG,MAAM,SAAS,CAAA,GAAA,wIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,mBAAmB;QACvB,IAAI,CAAC,cAAc;QAEnB,IAAI,CAAC,iBAAiB,QAAQ,CAAC,aAAa,IAAI,GAAG;YACjD,MAAM;YACN;QACF;QAEA,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QAExB,IAAI;YACF,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,oCAAoC,UAAU;gBAC9E,SAAS;oBACP,gBAAgB;gBAClB;YACF;YACA,QAAQ,GAAG,CAAC,SAAS,IAAI;YACzB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,GAAG,CAAC,SAAS;QACvB;IACF;IAEA,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC;YACjC,SAAS,SAAS,IAAI;QACxB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;QACzC;IACF;IAEA,qMAAA,CAAA,UAAK,CAAC,SAAS,CAAC;QACd;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAoD;;;;;;8BAElE,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAM,SAAQ;4BAAc,WAAU;sCAA+C;;;;;;sCACtF,8OAAC;4BACC,IAAG;4BACH,MAAK;4BACL,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;4BACxD,WAAU;;;;;;;;;;;;8BAId,8OAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;8BAID,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAA4C;;;;;;sCAC1D,8OAAC;4BAAG,WAAU;sCACX,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;oCAAiB,WAAU;;sDAC1B,8OAAC;4CAAK,WAAU;sDAAqC,KAAK,QAAQ;;;;;;sDAClE,8OAAC;4CACC,MAAM,CAAC,gCAAgC,EAAE,KAAK,QAAQ,EAAE;4CACxD,QAAQ;4CACR,WAAU;sDACX;;;;;;sDAGD,8OAAC;4CACC,SAAS;gDAAK,OAAO,IAAI,CAAC,CAAC,UAAU,EAAE,KAAK,QAAQ,EAAE;4CAAC;4CACvD,QAAQ;4CACR,WAAU;sDACX;;;;;;;mCAbM,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwB9B"}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}